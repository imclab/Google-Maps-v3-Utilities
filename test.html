<!DOCTYPE html>
<html>
	<head>
		<script src="http://yui.yahooapis.com/3.2.0/build/yui/yui-min.js"></script>
		<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
		<script src="latlong-utils.js"></script>
	</head>

	<body>
		<script>


			YUI().use('test', function(Y) {

				var testDistance = new Y.Test.Case({

				    name: "Test calcDistance",

					setUp: function () {

					},

				    //traditional test names
					'It should be 0': function () {

						var point1 = new google.maps.LatLng(0,0),
							point2 = new google.maps.LatLng(0,0);

						var dist = GoogleMapsV3_LatLon_Utils.calcDistance(point1, point2);

						Y.Assert.areEqual(0, dist);
				    },

					'It should be 396 km': function () {

						var point1 = new google.maps.LatLng(35.6894875, 139.6917064),
							point2 = new google.maps.LatLng(34.6937378, 135.5021651);

						var dist = GoogleMapsV3_LatLon_Utils.calcDistance(point1, point2);

						Y.Assert.areEqual(396, Math.round(dist));
					}

				});


				var testBearingTo = new Y.Test.Case({

				    name: "Test calcBearingTo",

					setUp: function () {

					},

				    //traditional test names
					'It should be 0': function () {

						var point1 = new google.maps.LatLng(0,0),
							point2 = new google.maps.LatLng(0,0);

						var bearing = GoogleMapsV3_LatLon_Utils.calcBearingTo(point1, point2);
						
						console.log(bearing);

						Y.Assert.areEqual(0, bearing);
				    },

					'It should be 255 deg': function () {
					
						var point1 = new google.maps.LatLng(35.6894875, 139.6917064),
							point2 = new google.maps.LatLng(34.6937378, 135.5021651);
					
						var bearing = GoogleMapsV3_LatLon_Utils.calcBearingTo(point1, point2);
					
						Y.Assert.areEqual(255, Math.round(bearing));
					}

				});


				Y.Test.Runner.add(testDistance);
				Y.Test.Runner.add(testBearingTo);

				Y.Test.Runner.run();

			});

		</script>
	</body>
</html>
